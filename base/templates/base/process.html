{% extends "base/base.html" %}
{% block extrastyle %}
  <style type="text/css">
    .myhover {
      background: #F0DCB6;
    }
  </style>
{% endblock %}

{% block webix-script %}
<script type="text/javascript" charset="utf-8">
  function redirect(link) {
    webix.send(link, null, "GET");
  }

  var col1_data = [
    {
      id: "1", open: true, value: "Before market open (8:30-9:30)", path: "#", image: "fa-bell",
      data: [
        {
          id: "1.0", value: "Take a shower", path: "#", image: "fa-bath"
        },
        {
          id: "1.1", value: "Read trade note", path: "{% url 'trade_note' 'trade' %}",
          image: "fa-sticky-note-o"
        },
        {
          id: "1.2", value: "Read behavior note", path: "{% url 'trade_note' 'behavior' %}",
          image: "fa-sticky-note"
        },
        {
          id: "1.3", value: "Listen to music", path: "http://www.accuradio.com/history/",
          image: "fa-music"
        },
        {
          id: "1.4", value: "Wash bad luck", path: "http://play.chessbase.com/?lang=en",
          image: "fa-star-half-o"
        },
        {
          id: "1.5", value: "Pray to god", path: "http://www.pray.com.au/daily-gospel-reflections.html",
          image: "fa-globe"
        },
        {
          id: "1.5.1", value: "Feel fuzzy, take a nap 2 hours", path: "", image: "fa-bed"
        },
        {
          id: "1.6", open: true, value: "Read news", path: "#", image: "fa-newspaper-o",
          data: [
            {
              id: "1.6.1", value: "Read gmail news", path: "https://mail.google.com/mail/u/1/#inbox",
              image: ""
            },
            {
              id: "1.6.2", value: "Read valueline news", path: "http://www.valueline.com/markets/dailyupdates.aspx",
              image: ""
            },
            {
              id: "1.6.3",
              value: "Read schwab news",
              path: "http://www.schwab.com/public/schwab/resource_center/expert_insight/markets_economy/schwab_market_update",
              image: ""
            },
          ]
        },
        {
          id: "1.7", value: "Check economics", path: "http://mam.econoday.com/",  image: "fa-calendar"
        },
        {
          id: "1.8", value: "Check sector news", image: "fa-bar-chart-o",
          path: "http://www.sectorspdr.com/sectorspdr/tools/sector-tracker"
        },
        {
          id: "1.10", value: "Check commodity news", image: "fa-dropbox", path: "#"
        },
        {
          id: "1.11", value: "Create market movement", image: "fa-comment-o",
          path: "#"
        },
        {
          id: "1.12", value: "Create market sentiment", image: "fa-comment-o",
          path: "#"
        },
        {
          id: "1.13", value: "Create market technical", image: "fa-comment-o",
          path: "#"
        },
        {
          id: "1.14", value: "Ready excel & open it", image: "fa-file-excel-o",
          path: "{% url 'excel_rtd_create' %}"
        },
      ]
    },
    {
      id: "2", open: true, value: "After market close (4:30-6:00)", path: "#", image: "fa-bell-slash",
      data: [
        {
          id: "2.1", value: "Export statement then import", image: "", path: "#",
          data: [
            {
              id: "2.1.1", value: "Export TDA statement", image: "", path: "#"
            },
            {
              id: "2.1.2", value: "Export IB statement", image: "", path: "#"
            },
          ]
        },
        {
          id: "2.2", value: "Update web data", image: "", path: ""
        },
        {
          id: "2.3", value: "Create Timesale report", image: "",
          path: "{% url 'timesale_insert_view' %}"
        },
        {
          id: "2.4", value: "Update position hold", image: "",
          path: "{% url 'admin:opinion_positionhold_changelist' %}"
        },
        {
          id: "2.5", value: "Update portfolio review", image: "", path: "#"
        },
      ]
    },
    {
      id: "3", open: open, value: "Weekly adjustment", path: "#", image: "fa-calendar-o",
      data: [
        {
          id: "3.1", value: "Re-balance portfolio", image: "fa-star-o",
          path: "#"
        },
        {
          id: "3.2", value: "Market comment & prepare", image: "fa-star-o", path: "#"
        },
        {
          id: "3.3", value: "Market sentiment & article", image: "fa-star-o", path: "#"
        }
      ]
    },
    {
      id: "4", open: open, value: "Monthly forecast", path: "#", image: "fa-calendar-o",
      data: [
        {
          id: "4.1", value: "Market review", image: "",
          path: "#"
        },
        {
          id: "4.2", value: "Market technical", image: "",
          path: "#"
        },
        {
          id: "4.3", value: "Earning season estimate", image: "", path: ""
        }
      ]
    }
  ];

  var col2_data = [
    {
      id: "1", open: true, value: "Trading hours (9:30-4:00)", path: "#", image: "fa-bell-o",
      data: [
        {
          id: "1.1", open: true, value: "Portfolio review", image: "", path: "",
          data: [
            {
              id: "1.1.1", open: false, value: "Create portfolio review", image: "",
              path: "{% url 'admin:opinion_portfolioreview_add' %}"
            },
            {
              id: "1.1.2", open: false, value: "Update portfolio review", image: "",
              path: "{% url 'portfolio_latest' %}"
            }
          ]
        },
        {
          id: "1.2", open: false, value: "Create mindset behavior", image: "",
          path: "{% url 'admin:opinion_mindsetbehavior_add' %}"
        },
        {
          id: "1.3", open: true, value: "Enter a trade", image: "fa-sign-in", path: "#",
          data: [
            {
              id: "1.3.1", open: true, value: "Enter idea research", image: "fa-search", path: "#",
              data: [
                {
                  id: "1.3.1.1", value: "Check market story", image: "fa-newspaper-o",
                  path: "{% url 'admin:opinion_underlyingarticle_add' %}"
                },
                {
                  id: "1.3.1.2", value: "Write down idea", image: "fa-lightbulb-o",
                  path: "{% url 'admin:opinion_positionidea_add' %}"
                },
                {
                  id: "1.3.1.3", value: "Create technical rank", image: "fa-star-half-o",
                  path: "{% url 'admin:opinion_technicalrank_add' %}"
                },
                {
                  id: "1.3.1.4", value: "Create technical opinion", image: "fa-bar-chart",
                  path: "{% url 'admin:opinion_technicalopinion_add' %}"
                },
                {
                  id: "1.3.1.5", open: true, value: "Research stock", image: "fa-briefcase", path: "#",
                  data: [
                    {
                      id: "1.3.1.5.1", value: "Fundamental opinion", image: "",
                      path: "#"
                    },
                    {
                      id: "1.3.1.5.2", value: "Industry opinion", image: "",
                      path: "#"
                    },

                  ]
                },
                {
                  id: "1.3.1.6", value: "Create enter opinion", image: "fa-check",
                  path: "#"
                }
              ]
            },
            {
              id: "1.3.2", value: "Ready underlying", image: "fa-database",
              path: "{% url 'admin:data_underlying_changelist' %}",
              data: [
                {
                  id: "1.3.2.1", value: "Open link", image: "", path: ""
                },
                {
                  id: "1.3.2.2", value: "Update underlying", image: "", path: ""
                },
                {
                  id: "1.3.2.3", value: "Import events", image: "", path: ""
                },
                {
                  id: "1.3.2.4", value: "Import web data", image: "", path: ""
                },
                {
                  id: "1.3.2.5", value: "Import thinkback web & options", image: "", path: "#"
                },
                {
                  id: "1.3.2.6", value: "Enable underlying", image: "", path: "#"
                }
              ]
            },
            {
              id: "1.3.3", open: true, value: "Backtest", image: "fa-play", path: "#",
              data: [
                {
                  id: "1.3.3.1", value: "Algorithm formula", image: "",
                  path: "{% url 'admin:algorithm_formula_changelist' %}"
                },
                {
                  id: "1.3.3.2", value: "Strategy trade", image: "",
                  path: "{% url 'admin:strategy_trade_changelist' %}"
                },
                {
                  id: "1.3.3.3", value: "Review report", image: "", path: "#"
                },
                {
                  id: "1.3.3.4", value: "Optimize trade", image: "", path: "#"
                }
              ]
            },
            {
              id: "1.3.4", open: true, value: "Intraday timing", image: "fa-clock-o", path: "#",
              data: [
                {
                  id: "1.3.4.1", value: "Excel decision", image: "", path: "#"
                },
                {
                  id: "1.3.4.2", value: "Timesale report", image: "",
                  path: "{% url 'timesale_insert_view' %}"
                },
                {
                  id: "1.3.4.3", value: "1 Minute report", image: "", path: "#"
                }
              ]
            },
            {
              id: "1.3.5", value: "Create position decision", image: "fa-check-square",
              path: "{% url 'admin:opinion_positiondecision_add' %}"
            },
          ]
        },
        {
          id: "1.4", open: true, value: "Hold a trade", image: "fa-check-square-o", path: "#",
          data: [
            {
              id: "1.4.1", value: "Read underlying news", image: "", path: "#"
            },
            {
              id: "1.4.2", value: "Check research report", image: "", path: "#"
            },
            {
              id: "1.4.3", value: "Create Technical rank", image: "",
              path: "{% url 'admin:opinion_technicalrank_add' %}"
            },
            {
              id: "1.4.4", value: "Create Technical opinion", image: "",
              path: "{% url 'admin:opinion_technicalopinion_add' %}"
            },
            {
              id: "1.4.5", value: "Intraday timing", image: "", path: "#"
            },
            {
              id: "1.4.6", value: "Create hold opinion", image: "",
              path: "{% url 'admin:opinion_positionhold_add' %}"
            }
          ]
        },
        {
          id: "1.5", open: true, value: "Exit a trade", image: "fa-sign-out", path: "",
          data: [
            {
              id: "1.5.1", value: "Create position exit", image: "",
              path: "{% url 'admin:opinion_positionexit_add' %}"
            },
            {
              id: "1.5.2", value: "Trade an order", image: "", path: "#"
            },
            {
              id: "1.5.3", value: "Position review", image: "",
              path: "{% url 'admin:statement_position_changelist' %}"
            },
          ]
        },
      ]
    },
  ];

  var col3_data = [
    {
      id: "1", open: true, value: "Loss & Risk Adjust", path: "#", image: "fa-thumbs-o-down",
      data: [
        {
          id: "1.1", value: "Clean mind: music & note", path: "#",
          image: "fa-music"
        },
        {
          id: "1.2", open: true, value: "Check technical & rank", path: "#", image: "fa-bar-chart",
          data: [
            {
              id: "1.2.1", value: "Tos all chart", path: "#", image: ""
            },
            {
              id: "1.2.2", value: "Technical opinion",
              path: "{% url 'admin:opinion_technicalopinion_add' %}", image: ""
            },
            {
              id: "1.2.3", value: "Technical rank",
              path: "{% url 'admin:opinion_technicalrank_add' %}", image: ""
            },
          ]
        },
        {
          id: "1.3", value: "Create underlying article",
          path: "{% url 'admin:opinion_underlyingarticle_add' %}", image: "fa-newspaper-o"
        },
        {
          id: "1.4", value: "Excel decision", path: "#", image: "fa-file-excel-o"
        },
        {
          id: "1.5", open: true, value: "Backtest", path: "#", image: "fa-play-circle",
          data: [
            {
              id: "1.5.1", value: "Previous report",
              path: "{% url 'admin:algorithm_formularesult_changelist' %}", image: ""
            },
            {
              id: "1.5.2", value: "New move analysis",
              path: "{% url 'admin:algorithm_formula_changelist' %}", image: ""
            },
            {
              id: "1.5.3", value: "Third party software", path: "#", image: ""
            }
          ]
        },
        {
          id: "1.6", open: true, value: "Behavior & position", path: "#", image: "fa-user",
          data: [
            {
              id: "1.6.1", value: "Loss hold checklist", path: "{% url 'admin:opinion_mindsetlosshold_add' %}", image: ""
            },
            {
              id: "1.6.2", value: "Loss excuse checklist", path: "{% url 'admin:opinion_mindsetlossexcuse_add' %}", image: ""
            },
            {
              id: "1.6.3", value: "Hold opinion", path: "{% url 'admin:opinion_positionhold_add' %}", image: ""
            }
          ]
        },
        {
          id: "1.7", value: "Decision", path: "{% url 'admin:opinion_positiondecision_add' %}", image: "fa-money"
        },
        {
          id: "1.8", value: "Action or hold", path: "#'", image: "fa-clock-o"
        }
      ]
    },
    {
      id: "2", open: true, value: "Quest line", path: "#", image: "fa-question-circle",
      data: [
        {% for id, quest, parts in quests %}
          {
            id: "2.{{ id }}", open: true, value: "{{ quest }}", image: "fa-question-circle-o",
            data: [
              {% for part in parts %}
                {
                  id: "2.{{ id }}.{{ forloop.counter }}", value: "{{ part }}", image: "",
                  path: "{% url 'admin:opinion_questpart_change' part.id %}"
                },
              {% endfor %}
            ]
          },
        {% endfor %}
      ]
    },
    {
      id: "3", open: true, value: "Guru news", path: "#", image: "fa-user",
      data: [
        {
          id: "3.1", value: "Carl Icahn", path: "#", image: "",
          data: [
            {
              id: "3.1.2", value: "Youtube video",
              path: "https://www.youtube.com/results?sp=CAI%253D&q=carl+icahn",
            },
            {
              id: "3.1.3", value: "Google news",
              path: "https://www.google.com/webhp?oq=carl+icahn#q=carl+icahn&tbm=nws",
            }
          ]
        },
        {
          id: "3.2", value: "George Soros", path: "", image: "",
          data: [
            {
              id: "3.2.1", value: "Youtube video",
              path: "https://www.youtube.com/results?q=George+Soros&sp=CAI%253D",
            },
            {
              id: "3.2.2", value: "Google news",
              path: "https://www.google.com/search?q=warren+buffett&ie=utf-8&oe=utf-8",
            }
          ]
        },
        {
          id: "3.3", value: "Warren Buffett", path: "#", image: "",
          data: [
            {
              id: "3.3.1", value: "Youtube video",
              path: "https://www.youtube.com/results?sp=CAI%253D&q=warren+buffett"
            },
            {
              id: "3.3.2", value: "Google news",
              path: "https://www.google.com/webhp?oq=carl+icahn#tbm=nws&q=warren+buffett"
            }
          ]
        }
      ]
    },
    {
      id: "4", open: false, value: "Season maintenance", path: "#", image: "fa-database",
      data: [
        {
          id: "4.1", open: false, value: "Thinkback update", image: "", path: "#"
        }
      ]
    }
  ];
  
  var path = "{common.icon()} {common.folder()} " +
      "<span class='webix_icon #image#' style='float:right; margin:5px 12px 0px 1px;'></span>" +
      "<a href='#path#'>#value#</a>";

  webix.ui({
    container: "webix-content",
    id: "layout",
    minHeight: 1200,
    type: "space",
    cols: [
      {
        id: "tree1", width: 360, view: "tree", template: path, data: col1_data
      },
      {
        id: "tree2", view: "tree", template: path, data: col2_data,
      },
      {
        id: "tree3", width: 360, view: "tree", template: path, data: col3_data
      }
    ]
  }).show();

</script>
{% endblock %}